<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRM Protected Content</title>
    <style>
        #videoContainer {
            width: 640px;
            height: 360px;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        #videoContainer::after {
            content: "Protected Content - Recording Blocked";
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="videoContainer"></div>

    <script>
        if (navigator.requestMediaKeySystemAccess) {
            // Attempt to request DRM content protection (e.g., using Widevine, PlayReady, or ClearKey)
            const videoContainer = document.getElementById('videoContainer');

            // Here we simulate a DRM system (e.g., Widevine)
            navigator.requestMediaKeySystemAccess('com.widevine.alpha', [{
                initDataTypes: ['cenc'],
                audioCapabilities: [{ contentType: 'audio/mp4' }],
                videoCapabilities: [{ contentType: 'video/mp4' }]
            }])
            .then(keySystemAccess => {
                keySystemAccess.createMediaKeys().then(mediaKeys => {
                    // Apply the MediaKeys to the content, which would otherwise be encrypted and protected
                    videoContainer.innerHTML = "Content is DRM protected. Recording attempts will be blocked.";
                    console.log('DRM protection is enabled and playback is restricted.');
                }).catch(error => {
                    console.error('Error creating media keys:', error);
                });
            }).catch(error => {
                console.error('Error setting up DRM system:', error);
            });
        } else {
            alert("Your browser does not support DRM content protection.");
        }

        // Prevent right-clicking to capture content (further deterrence)
        document.addEventListener('contextmenu', function (event) {
            event.preventDefault();
            alert("Right-click is disabled to protect content.");
        });

        // Block screen capture in supported browsers
        if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {
            navigator.mediaDevices.enumerateDevices().then(devices => {
                devices.forEach(device => {
                    if (device.kind === 'videoinput') {
                        // Try to block access to video capture devices if needed
                        console.log('Blocking access to video capture device.');
                    }
                });
            }).catch(error => {
                console.error('Error checking media devices:', error);
            });
        }
    </script>
</body>
</html>
